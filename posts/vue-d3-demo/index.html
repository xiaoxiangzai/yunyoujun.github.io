<!DOCTYPE html><html lang="zh-CN"><head><!-- hexo injector head_begin start --><link href="/css/tag-common/index.css" rel="stylesheet"/><!-- hexo injector head_begin end --><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="äº‘æ¸¸å›"><meta name="copyright" content="äº‘æ¸¸å›"><meta name="generator" content="Hexo 5.4.0"><meta name="theme" content="hexo-theme-yun"><title>ä» Vite ä¸ Vue å¼€å§‹çš„ D3 æ•°æ®å¯è§†åŒ–ä¹‹æ—… | äº‘æ¸¸å›çš„å°ç«™</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.25/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_dxory92pb0h.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link id="light-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism.css" media="(prefers-color-scheme: light)"><link id="dark-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism-tomorrow.css" media="(prefers-color-scheme: dark)"><link rel="icon" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"www.yunyoujun.cn","root":"/","title":"äº‘æ¸¸å›çš„å°ç«™","version":"1.6.2","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"æœç´¢...","empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹: ${query}","hits":"æ‰¾åˆ° ${hits} æ¡ç»“æœ","hits_time":"æ‰¾åˆ° ${hits} æ¡ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://el-bot-api.vercel.app/api/words/young"},"algolia":{"appID":"CJXXAGRCYN","apiKey":"ae1966d2aeab22bf9335679f45d2cd9a","indexName":"my-hexo-blog","hits":{"per_page":8}},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><link rel="alternate" href="/atom.xml" title="äº‘æ¸¸å›çš„å°ç«™" type="application/atom+xml"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin><script async src="https://www.googletagmanager.com/gtag/js?id=G-1LL0D86CY9"></script><script>if (CONFIG.hostname === location.hostname) {
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-1LL0D86CY9');
}</script><script data-ad-client="ca-pub-2245427233262012" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(function(){
  var bp = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  if (curProtocol === 'https') {
    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else {
    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})();</script><!-- Google Tag Manager --><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-M9KWR9L');</script><!-- End Google Tag Manager --><meta name="description" content="è¿™æ˜¯ä¸€ä¸ªæå…¶ç®€å•çš„å¹¶å°½å¯èƒ½é¢å‘æœªæ¥çš„æ–°æ‰‹æ•™ç¨‹ï¼Œå®ƒå°†æŒ‡å¯¼ä½ ç®€å•åœ°ä½¿ç”¨ Vite å¯åŠ¨ Vue çš„è„šæ‰‹æ¶ï¼Œå¹¶å¼€å§‹ D3 æ•°æ®å¯è§†åŒ–çš„ç›¸å…³å¼€å‘ã€‚è€Œä½ æ— éœ€ Vue ç›¸å…³çš„å‰ç½®ä½¿ç”¨çŸ¥è¯†ï¼Œä½ åªéœ€è·Ÿéšæ•™ç¨‹ç®€å•åœ°ä½¿ç”¨å®ƒã€‚åœ¨è¯¾åå¦‚æœä½ ä»æœ‰å…´è¶£ï¼Œé‚£ä¹ˆä½ å¯ä»¥ç»§ç»­åœ°æ·±å…¥äº†è§£å®ƒã€‚ ã€Œç®€å•ã€æ˜¯ä¸æ˜¯ç”¨çš„å¤ªå¤šäº†">
<meta property="og:type" content="article">
<meta property="og:title" content="ä» Vite ä¸ Vue å¼€å§‹çš„ D3 æ•°æ®å¯è§†åŒ–ä¹‹æ—…">
<meta property="og:url" content="https://www.yunyoujun.cn/posts/vue-d3-demo/index.html">
<meta property="og:site_name" content="äº‘æ¸¸å›çš„å°ç«™">
<meta property="og:description" content="è¿™æ˜¯ä¸€ä¸ªæå…¶ç®€å•çš„å¹¶å°½å¯èƒ½é¢å‘æœªæ¥çš„æ–°æ‰‹æ•™ç¨‹ï¼Œå®ƒå°†æŒ‡å¯¼ä½ ç®€å•åœ°ä½¿ç”¨ Vite å¯åŠ¨ Vue çš„è„šæ‰‹æ¶ï¼Œå¹¶å¼€å§‹ D3 æ•°æ®å¯è§†åŒ–çš„ç›¸å…³å¼€å‘ã€‚è€Œä½ æ— éœ€ Vue ç›¸å…³çš„å‰ç½®ä½¿ç”¨çŸ¥è¯†ï¼Œä½ åªéœ€è·Ÿéšæ•™ç¨‹ç®€å•åœ°ä½¿ç”¨å®ƒã€‚åœ¨è¯¾åå¦‚æœä½ ä»æœ‰å…´è¶£ï¼Œé‚£ä¹ˆä½ å¯ä»¥ç»§ç»­åœ°æ·±å…¥äº†è§£å®ƒã€‚ ã€Œç®€å•ã€æ˜¯ä¸æ˜¯ç”¨çš„å¤ªå¤šäº†">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2020/11/23/BMjg6K2dzsZpHSo.jpg">
<meta property="og:image" content="https://i.loli.net/2020/11/23/6jbnHI3kRfdlZXx.png">
<meta property="og:image" content="https://i.loli.net/2020/11/23/Ri2lGMXZ1Bubzar.png">
<meta property="og:image" content="https://i.loli.net/2020/11/23/3vDBhLHZw1CiFW9.jpg">
<meta property="og:image" content="https://i.loli.net/2020/11/24/7ubjySWJqBLi8dE.png">
<meta property="og:image" content="https://i.loli.net/2020/11/24/KMaOEJX62khFVqQ.png">
<meta property="og:image" content="https://upyun.yunyoujun.cn/images/dawn-is-near.jpg">
<meta property="og:image" content="https://upyun.yunyoujun.cn/images/in-this-river.jpg">
<meta property="article:published_time" content="2020-11-21T11:56:09.000Z">
<meta property="article:modified_time" content="2020-11-21T11:56:09.000Z">
<meta property="article:author" content="äº‘æ¸¸å›">
<meta property="article:tag" content="Vue">
<meta property="article:tag" content="Vite">
<meta property="article:tag" content="D3">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2020/11/23/BMjg6K2dzsZpHSo.jpg"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="æ–‡ç« ç›®å½•"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="ç«™ç‚¹æ¦‚è§ˆ"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="äº‘æ¸¸å›"><img width="96" loading="lazy" src="/images/avatar.jpg" alt="äº‘æ¸¸å›"><span class="site-author-status" title="Looking for dawn.">ğŸŒ‘</span></a><div class="site-author-name"><a href="/about/">äº‘æ¸¸å›</a></div><a class="site-name" href="/about/site.html">äº‘æ¸¸å›çš„å°ç«™</a><sub class="site-subtitle">All at sea.</sub><div class="site-desciption">å¸Œæœ›èƒ½æˆä¸ºä¸€ä¸ªæœ‰è¶£çš„äºº</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="é¦–é¡µ"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="å½’æ¡£"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">83</span></a></div><div class="site-state-item"><a href="/categories/" title="åˆ†ç±»"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">16</span></a></div><div class="site-state-item"><a href="/tags/" title="æ ‡ç­¾"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">84</span></a></div><a class="site-state-item hty-icon-button" href="/about/#comment" title="ç•™è¨€æ¿"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-clipboard-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="/atom.xml" title="RSS" target="_blank" style="color:orange"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-rss-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://qm.qq.com/cgi-bin/qm/qr?k=kZJzggTTCf4SpvEQ8lXWoi5ZjhAx0ILZ&amp;jump_from=webapi" title="QQ ç¾¤ 1050458482" target="_blank" style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/YunYouJun" title="GitHub" target="_blank" style="color:#6e5494"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://weibo.com/jizhideyunyoujun" title="å¾®åš" target="_blank" style="color:#E6162D"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-weibo-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.douban.com/people/yunyoujun/" title="è±†ç“£" target="_blank" style="color:#007722"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-douban-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/#/user/home?id=247102977" title="ç½‘æ˜“äº‘éŸ³ä¹" target="_blank" style="color:#C20C0C"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-netease-cloud-music-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.zhihu.com/people/yunyoujun/" title="çŸ¥ä¹" target="_blank" style="color:#0084FF"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-zhihu-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/1579790" title="å“”å“©å“”å“©" target="_blank" style="color:#FF8EB3"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-bilibili-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/about/white-qrcode-and-search.jpg" title="å¾®ä¿¡å…¬ä¼—å·" target="_blank" style="color:#1AAD19"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-2-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://twitter.com/YunYouJun" title="Twitter" target="_blank" style="color:#1da1f2"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-twitter-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://t.me/elpsycn" title="Telegram Channel" target="_blank" style="color:#0088CC"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-telegram-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:me@yunyoujun.cn" title="E-Mail" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://travellings.link" title="Travelling" target="_blank" style="color:var(--hty-text-color)"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-train-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="æˆ‘çš„å°ä¼™ä¼´ä»¬" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-genderless-line"></use></svg></a><a class="links-item hty-icon-button" href="/girls/" title="å–œæ¬¢çš„å¥³å­©å­" style="color:hotpink"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-women-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%AA%E5%BF%B5%E5%93%81"><span class="toc-number">1.</span> <span class="toc-text">çºªå¿µå“</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%8C%E6%9D%8E%E6%B8%85%E5%8D%95"><span class="toc-number">2.</span> <span class="toc-text">è¡Œææ¸…å•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%85%E8%A1%8C%E6%8C%87%E5%8D%97"><span class="toc-number">3.</span> <span class="toc-text">æ—…è¡ŒæŒ‡å—</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BA%E5%8F%91"><span class="toc-number">4.</span> <span class="toc-text">å‡ºå‘</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Vite-%E7%AB%99"><span class="toc-number">4.1.</span> <span class="toc-text">Vite ç«™</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue-D3"><span class="toc-number">4.2.</span> <span class="toc-text">Vue + D3</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%86%E5%A4%87%E6%95%B0%E6%8D%AE"><span class="toc-number">4.2.1.</span> <span class="toc-text">å‡†å¤‡æ•°æ®</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E7%9B%B4%E6%96%B9%E5%9B%BE"><span class="toc-number">4.2.2.</span> <span class="toc-text">ç»˜åˆ¶ç›´æ–¹å›¾</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%88%E7%82%B9"><span class="toc-number">5.</span> <span class="toc-text">ç»ˆç‚¹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B0%E7%9A%84%E6%97%85%E7%A8%8B"><span class="toc-number">6.</span> <span class="toc-text">æ–°çš„æ—…ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B0%E7%9A%84%E8%A1%8C%E6%9D%8E%E6%B8%85%E5%8D%95"><span class="toc-number">6.1.</span> <span class="toc-text">æ–°çš„è¡Œææ¸…å•</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#vue-router"><span class="toc-number">6.1.1.</span> <span class="toc-text">vue-router</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Vuex"><span class="toc-number">6.1.2.</span> <span class="toc-text">Vuex</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sass"><span class="toc-number">6.1.3.</span> <span class="toc-text">sass</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#element-plus"><span class="toc-number">6.1.4.</span> <span class="toc-text">element-plus</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A8%E5%8D%95"><span class="toc-number">6.2.</span> <span class="toc-text">è¡¨å•</span></a></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://www.yunyoujun.cn/posts/vue-d3-demo/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="äº‘æ¸¸å›"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="äº‘æ¸¸å›çš„å°ç«™"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">ä» Vite ä¸ Vue å¼€å§‹çš„ D3 æ•°æ®å¯è§†åŒ–ä¹‹æ—…<a class="post-edit-link" href="https://github.com/YunYouJun/yunyoujun.github.io/tree/hexo/source/_posts/posts/vue-d3-demo.md" target="_blank" title="ç¼–è¾‘" rel="noopener"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-edit-line"></use></svg></a></h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="åˆ›å»ºæ—¶é—´ï¼š2020-11-21 19:56:09" itemprop="dateCreated datePublished" datetime="2020-11-21T19:56:09+08:00">2020-11-21</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="æœ¬æ–‡å­—æ•°"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-file-word-line"></use></svg></span> <span title="æœ¬æ–‡å­—æ•°">4.1k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="é˜…è¯»æ—¶é•¿"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-timer-line"></use></svg></span> <span title="é˜…è¯»æ—¶é•¿">16m</span></span></span><span class="leancloud_visitors" id="/posts/vue-d3-demo/" data-flag-title="ä» Vite ä¸ Vue å¼€å§‹çš„ D3 æ•°æ®å¯è§†åŒ–ä¹‹æ—…"><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="é˜…è¯»æ¬¡æ•°"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg> <span class="leancloud-visitors-count"></span></span></span><span class="post-meta-divider">-</span><a href="#comment"><span class="post-meta-item-icon" title="è¯„è®ºæ•°"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-chat-3-line"></use></svg> <span class="waline-comment-count" id="/posts/vue-d3-demo/"></span></span></a><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E4%BA%91%E6%B8%B8%E7%9A%84%E5%B0%8F%E6%95%99%E7%A8%8B/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">äº‘æ¸¸çš„å°æ•™ç¨‹</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/Vue/" style="--text-color:#4fc08d"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">Vue</span></a><a class="tag-item" href="/tags/Vite/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">Vite</span></a><a class="tag-item" href="/tags/D3/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">D3</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><p>è¿™æ˜¯ä¸€ä¸ªæå…¶ç®€å•çš„å¹¶å°½å¯èƒ½é¢å‘æœªæ¥çš„æ–°æ‰‹æ•™ç¨‹ï¼Œå®ƒå°†æŒ‡å¯¼ä½ ç®€å•åœ°ä½¿ç”¨ Vite å¯åŠ¨ Vue çš„è„šæ‰‹æ¶ï¼Œå¹¶å¼€å§‹ D3 æ•°æ®å¯è§†åŒ–çš„ç›¸å…³å¼€å‘ã€‚è€Œä½ æ— éœ€ Vue ç›¸å…³çš„å‰ç½®ä½¿ç”¨çŸ¥è¯†ï¼Œä½ åªéœ€è·Ÿéšæ•™ç¨‹ç®€å•åœ°ä½¿ç”¨å®ƒã€‚<br>åœ¨è¯¾åå¦‚æœä½ ä»æœ‰å…´è¶£ï¼Œé‚£ä¹ˆä½ å¯ä»¥ç»§ç»­åœ°æ·±å…¥äº†è§£å®ƒã€‚</p>
<p><del>ã€Œç®€å•ã€æ˜¯ä¸æ˜¯ç”¨çš„å¤ªå¤šäº†</del></p>
<span id="more"></span>

<h2 id="çºªå¿µå“"><a href="#çºªå¿µå“" class="headerlink" title="çºªå¿µå“"></a>çºªå¿µå“</h2><ul>
<li>GitHub: <a target="_blank" rel="noopener" href="https://github.com/YunYouJun/vue-d3-demo">vue-d3-demo</a></li>
<li>ç¤ºä¾‹é¡µé¢: <a target="_blank" rel="noopener" href="https://yunyoujun.github.io/vue-d3-demo/">vue-d3-demo</a></li>
<li>Slides(å¼€å‘ç¯å¢ƒ): <a href="https://www.yunyoujun.cn/slides/vue-d3-demo/">vue-d3-demo</a></li>
</ul>
<h2 id="è¡Œææ¸…å•"><a href="#è¡Œææ¸…å•" class="headerlink" title="è¡Œææ¸…å•"></a>è¡Œææ¸…å•</h2><p>é¦–å…ˆå‡†å¤‡å¥½æˆ‘ä»¬æ—…è¡Œçš„è¡Œææ¸…å•ã€‚</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://nodejs.org/">Node.js</a>:  æœ¬æ•™ç¨‹å¼€å‘çš„å‰ç½®åŸºç¡€ç¯å¢ƒï¼Œå°½ç®¡ä½ å¯èƒ½å·²ç»æ—©å·²å®‰è£…å¥½äº†å®ƒï¼Œä½†ä»¥é˜²ä¸‡ä¸€ï¼Œè¿˜æ˜¯å†ä½œæé†’ã€‚</li>
<li><a target="_blank" rel="noopener" href="https://www.npmjs.com/">npm</a> or <a target="_blank" rel="noopener" href="https://www.yarnpkg.com/zh-Hans/">yarn</a>: åŒ…ç®¡ç†å·¥å…·ï¼Œnpm å·²éš Node.js é»˜è®¤å®‰è£…ã€‚yarn å¯é€‰ï¼Œä½†æˆ‘å»ºè®®ä½ ä¸å¦¨è¯•ä¸€è¯•ã€‚åç»­çš„å†…å®¹ä¹Ÿå°†ä»¥æ­¤ä¸ºå±•å¼€ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥æ‰§æ‹—åœ°ä½¿ç”¨ <code>npm run</code> æ›¿ä»£æ•™ç¨‹ä¸­çš„ <code>yarn</code>ã€‚</li>
<li><a target="_blank" rel="noopener" href="https://github.com/d3/d3">D3</a>: Data-Driven Documents æ•°æ®å¯è§†åŒ–æœ€ä¸ºæµè¡Œçš„åŸºç¡€åº“ï¼Œæ²¡æœ‰ä¹‹ä¸€ã€‚</li>
<li><a target="_blank" rel="noopener" href="https://github.com/vuejs/vue">Vue</a>: The Progressive JavaScript Framework ç›®å‰æœ€ä¸ºæµè¡Œçš„å‰ç«¯æ¡†æ¶ä¹‹ä¸€ï¼Œä¸å¯å¦è®¤çš„æ˜¯å®ƒç›¸æ¯” React çš„å­¦ä¹ æ›²çº¿è¦æ›´ä¸ºå¹³ç¼“ã€‚</li>
<li><a target="_blank" rel="noopener" href="https://github.com/vitejs/vite">Vite</a>: Native-ESM powered web dev build tool. Itâ€™s fast. é¢å‘æœªæ¥çš„å‰ç«¯æ„å»ºå·¥å…·ã€‚</li>
</ul>
<p>å½“ç„¶ï¼Œåç»­æˆ‘ä»¬ä¼šå†è¯¦ç»†ä»‹ç»å…¶åœ¨æ—…é€”ä¸­çš„åŠŸç”¨ã€‚</p>
<h2 id="æ—…è¡ŒæŒ‡å—"><a href="#æ—…è¡ŒæŒ‡å—" class="headerlink" title="æ—…è¡ŒæŒ‡å—"></a>æ—…è¡ŒæŒ‡å—</h2><p>å•çº¯ä½¿ç”¨ D3.JS ä¸åŸç”Ÿçš„ HTML/CSS/JS ä¾¿å¯ä»¥å®ç°æ•°æ®å¯è§†åŒ–çš„ç§ç§æ•ˆæœï¼Œåœ¨åˆ¶ä½œç®€æ˜“çš„ Demo æ—¶ï¼Œè¿™æ˜¯ååˆ†æ–¹ä¾¿ä¸”æ„‰å¿«çš„äº‹æƒ…ã€‚</p>
<p>ä½†æ˜¯æ•°æ®å¯è§†åŒ–çš„å­˜åœ¨æœ¬èº«å¸¸å¸¸éœ€è¦ä¸ç°æœ‰çš„å·¥ç¨‹é¡¹ç›®ç»“åˆï¼Œè€Œè¿™ä¸ªé¡¹ç›®æœ¬èº«ä¾¿å¯èƒ½æ˜¯ç”± Vue/React å†™æˆï¼ˆAngular: ???ï¼‰ï¼Œæˆ‘ä»¬ä¾¿éœ€è¦å°†å…¶è¿›è¡Œäº›è®¸æ”¹é€ ï¼Œä»¥é›†æˆè¿›é¡¹ç›®ä¸­ã€‚</p>
<p>æ­¤å¤–ï¼Œç®€å•çš„ Demo é¡µé¢ä½¿ç”¨åŸç”Ÿçš„ HTML/CSS/JS å¹¶æ— å¤§ç¢ï¼Œä½†é€»è¾‘ä¸€æ—¦å¤æ‚èµ·æ¥ï¼Œç»„ä»¶å¼å¼€å‘ä¾¿åŠ¡å¿…æä¸Šæ—¥ç¨‹ï¼Œå¦åˆ™ææ˜“è‡ªé¡¾ä¸æš‡ã€‚</p>
<p>D3 æœ¬èº«çš„å®£ä¼ æ ‡è¯­ä¾¿æ˜¯ <code>Data-Driven Documents</code>ï¼Œå³æ•°æ®é©±åŠ¨æ–‡æ¡£ã€‚Vue åˆ™åŒæ ·ä»¥æ•°æ®æµé©±åŠ¨ä¸ºæ ¸å¿ƒç†å¿µã€‚<br>æ‰€è°“çš„æ•°æ®å¯è§†åŒ–ï¼Œè‡ªç„¶ä¹Ÿæ˜¯ä»¥æ•°æ®ä¸ºæ ¸å¿ƒã€‚æˆ‘ä»¬ç†æƒ³çš„æƒ…å†µæ˜¯åœ¨æ•°æ®å˜åŒ–çš„åŒæ—¶ï¼Œä¾¿å¯ä»¥å“åº”å¼åœ°çœ‹åˆ°å˜åŒ–çš„æ•ˆæœï¼Œè€Œéæ‰‹åŠ¨å»æ“çºµ DOM å…ƒç´ ã€‚</p>
<p>å‰ç«¯ä¸åç«¯ä¹Ÿåº”å½“è§£é™¤è€¦åˆï¼Œæˆ‘ä»¬åªéœ€è¦å…³å¿ƒè¿”å›çš„ JSON æ•°æ®ï¼Œè€Œæ— éœ€åœ¨æ„å…¶ç”±ä½•ç§æŠ€æœ¯æ­å»ºã€è¿˜æ˜¯å…¶ä»–ä»»æ„ç›¸å…³å†…å®¹ã€‚</p>
<p><img src="https://i.loli.net/2020/11/23/BMjg6K2dzsZpHSo.jpg" alt="fe-vs-be.jpg" loading="lazy"></p>
<p>è€Œ Vite åˆ™æ˜¯ Vue ä½œè€…å°¤é›¨æºªçš„åˆä¸€è‡ªä¿¡ä¹‹ä½œï¼Œæ—¨åœ¨é€šè¿‡æµè§ˆå™¨åŸç”Ÿæ”¯æŒçš„ ES Module æ¥è§£å†³ Webpack ç­‰æ‰“åŒ…å·¥å…·æ‰“åŒ…åŠ è½½è¿‡æ…¢çš„é—®é¢˜ã€‚ç¤¾åŒºæ­¤å‰ä¹Ÿå·²ç»æœ‰ä¸€ä¸ªç±»ä¼¼æ¦‚å¿µçš„å·¥å…· <a target="_blank" rel="noopener" href="https://github.com/snowpackjs/snowpack">snowpack</a>ã€‚</p>
<blockquote>
<p>å½“ç„¶ Vite é™¤äº†å’Œ Vue ç”Ÿæ€æ›´åŠ å‹å¥½ä¹‹å¤–ï¼Œä¹Ÿåœ¨ README ä¸­åˆ—ä¸¾äº†ä¸€äº›ä¸åŒä¹‹å¤„ã€‚<br><a target="_blank" rel="noopener" href="https://github.com/vitejs/vite#how-is-this-different-from-snowpack">How is This Different from Snowpack? | Vite</a></p>
</blockquote>
<p>è€Œåœ¨æ‘†è„±å¦‚ IE èˆ¬ç­‰ä¸€äº›å†å²å…¼å®¹åŒ…è¢±åï¼Œå®ƒå¾ˆå¯èƒ½æˆä¸ºä¸€ä¸ªæœªæ¥çš„è¶‹åŠ¿ã€‚ï¼ˆå°½ç®¡ 1.0 ä»æ—§å¤„äº RC é˜¶æ®µï¼Œä½†å·²åŸºæœ¬å¯ä»¥ä½¿ç”¨ã€‚ï¼‰</p>
<p>ä¸€ä¸ªæœ‰è¶£çš„äº’åŠ¨ï¼š</p>
<blockquote>
<p>Evan You: I feel I may never be able to go back to webpack</p>
<p>Sean Thomas Larkin å»–è‚–æ©ï¼ˆæ­£åœ¨å­¦ä¹ æ±‰è¯­çš„ Webpack æ ¸å¿ƒå›¢é˜Ÿæˆå‘˜ï¼‰: å¤§å“¥â€¦â€¦</p>
</blockquote>
<p><img src="https://i.loli.net/2020/11/23/6jbnHI3kRfdlZXx.png" alt="å°¤é›¨æºªå‘æ¨.png" loading="lazy"></p>
<p>æ—¢ç„¶æ‰“ç®—é¢å‘æœªæ¥ï¼ŒVue ä½¿ç”¨é‡Šå‡ºä¸ä¹…çš„ v3ï¼ŒD3 åˆ™ä½¿ç”¨ v6ï¼Œä¹Ÿæ˜¯æ¯‹åº¸ç½®ç–‘ä¹‹ä¸¾ã€‚</p>
<p>ç»¼ä¸Šæ‰€è¿°ï¼Œå¯¹äºç›®å‰æ¥è¯´ï¼ŒVite@1 + Vue@3 + D3@6 æ˜¯ä¸ªä¸é”™çš„å¼€å§‹æ–¹å¼ã€‚</p>
<blockquote>
<p>å·²æ›´æ–°ä¸º Vite@2ã€‚</p>
</blockquote>
<h2 id="å‡ºå‘"><a href="#å‡ºå‘" class="headerlink" title="å‡ºå‘"></a>å‡ºå‘</h2><h3 id="Vite-ç«™"><a href="#Vite-ç«™" class="headerlink" title="Vite ç«™"></a>Vite ç«™</h3><p>åºŸè¯ä¸å¤šè¯´ï¼Œå’±ä»¬å…ˆå¯åŠ¨ä¸€ä¸ªè„šæ‰‹æ¶ã€‚</p>
<p>Vite æœ¬èº«å·²ç»æä¾›äº†ä¸€ä¸ªè„šæ‰‹æ¶å·¥å…· <a target="_blank" rel="noopener" href="https://github.com/vitejs/create-vite-app">create-vite-app</a>ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹çš„æ–¹å¼æ¥åˆå§‹åŒ–é¡¹ç›®ã€‚è¿›å…¥æœˆå°ï¼ˆç»ˆç«¯ï¼‰ã€‚</p>
<p>å› ä¸ºæˆ‘é€šå¸¸ä¹ æƒ¯ä½¿ç”¨ <a target="_blank" rel="noopener" href="https://www.yarnpkg.com/zh-Hans/">yarn</a>ã€‚æ‰€ä»¥åé¢ä¸»è¦ä»¥ yarn ä½œä¸ºç¤ºä¾‹ã€‚<br>ï¼ˆ2020 å¹´æœ«çš„ npm ä¸ yarn å¹¶æ²¡æœ‰æ˜¾è‘—å·®å¼‚ã€‚ï¼‰</p>
<pre class="language-sh" data-language="sh"><code class="language-sh">npm init vite-app &lt;project-name&gt;
# or
yarn create vite-app &lt;project-name&gt;</code></pre>

<ul>
<li>åˆå§‹åŒ–é¡¹ç›®ï¼š<code>yarn create @vitejs/app vue-d3-demo</code></li>
<li>è¿›å…¥é¡¹ç›®æ–‡ä»¶å¤¹ï¼š<code>cd vue-d3-demo</code>ï¼ˆå¦‚æœä½ ä½¿ç”¨äº† <a target="_blank" rel="noopener" href="https://code.visualstudio.com/">VS Code</a>ï¼Œä½ è¿˜å¯ä»¥é€šè¿‡ <code>code .</code> çš„æ–¹å¼å¿«é€Ÿæ‰“å¼€æ–‡ä»¶å¤¹ï¼‰</li>
<li>å®‰è£…ä¾èµ–ï¼š<code>yarn</code></li>
<li>å¯åŠ¨é¡¹ç›®ï¼š<code>yarn dev</code></li>
</ul>
<p>é»˜è®¤åœ°å€ä¸º <code>http://localhost:3000</code>ã€‚ï¼ˆå†é¡ºå¸¦ä¸€æï¼ŒVite åº•éƒ¨ä¾èµ–çš„æ˜¯ <a target="_blank" rel="noopener" href="https://github.com/koajs/koa">koa</a>ã€‚ï¼‰</p>
<p>æˆ‘ä»¬åº”è¯¥å¯ä»¥çœ‹åˆ°è¿™æ ·çš„æ•ˆæœã€‚</p>
<p><img src="https://i.loli.net/2020/11/23/Ri2lGMXZ1Bubzar.png" alt="vite-demo.png" loading="lazy"></p>
<p>ä¸€ä¸ªç®€å•çš„ç”±è„šæ‰‹æ¶ç”Ÿæˆçš„é¡¹ç›®ä¾¿å¯åŠ¨å®Œæ¯•äº†ï¼Œæ­¤å¤–æˆ‘ä»¬ä¹Ÿå¯ä»¥è§è¯åˆ° Vite åˆ°åº•æœ‰å¤šå¿«ï¼ˆç›¸æ¯” Webpackï¼‰ã€‚</p>
<h3 id="Vue-D3"><a href="#Vue-D3" class="headerlink" title="Vue + D3"></a>Vue + D3</h3><p><del>æ ¹æ®è€å¸ˆçš„è¦æ±‚</del>ï¼Œä½œä¸ºä¸€ä¸ª Demo ç¤ºä¾‹ï¼Œæˆ‘ä»¬åªéœ€è¦ç®€å•æ¼”ç¤ºä¸€ä¸‹ D3 ç›´æ–¹å›¾æ˜¯å¦‚ä½•ä¸ Vue ç›¸ç»“åˆçš„ã€‚</p>
<p><img src="https://i.loli.net/2020/11/23/3vDBhLHZw1CiFW9.jpg" alt="ç®—æœ¯å…¥é—¨.jpg" loading="lazy"></p>
<ul>
<li>å®‰è£… D3 ä¾èµ–: <code>yarn add d3</code></li>
</ul>
<blockquote>
<p>æˆ‘ä»¬å¯ä»¥å‚è€ƒä¸€ä¸‹ D3 å®˜æ–¹ç»™å‡ºçš„ Bar Chart ç¤ºä¾‹ï¼š<a target="_blank" rel="noopener" href="https://observablehq.com/@d3/bar-chart">https://observablehq.com/@d3/bar-chart</a></p>
</blockquote>
<p>è€Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯å°†å…¶æ”¹é€ è¿›æˆ‘ä»¬çš„ Vite + Vue çš„é¡¹ç›®ã€‚</p>
<p>æˆ‘ä»¬å…ˆæ¥å‚è§‚ä¸€ä¸‹ç¤ºä¾‹é¡¹ç›®ä¸­çš„ä»£ç ã€‚</p>
<blockquote>
<p>å€¼å¾—ä¸€æçš„æ˜¯ Vue3 æˆ‘ä»¬ä¹Ÿä¸å†é¡»æ˜¯å”¯ä¸€çš„æ ¹å…ƒç´ äº†ï¼Œè€Œå¯ä»¥å¤šä¸ªå…ƒç´ å¹¶åˆ—ï¼ˆå¦‚ï¼š<code>&lt;h1&gt;&lt;/h1&gt;</code>, <code>&lt;button&gt;&lt;/button&gt;</code>, <code>&lt;p&gt;&lt;/p&gt;</code>ï¼‰ã€‚<br>è¿™è¢«ç§°åš <a target="_blank" rel="noopener" href="https://v3.vuejs.org/guide/migration/fragments.html#fragments">Fragments | ç‰‡æ®µ</a>ã€‚</p>
</blockquote>
<pre class="language-html" data-language="html"><code class="language-html">// HelloWorld.vue
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>&#123;&#123; msg &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>count++<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>count is: &#123;&#123; count &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>
    Edit <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">></span></span>components/HelloWorld.vue<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">></span></span> to test hot module replacement.
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token string">"HelloWorld"</span><span class="token punctuation">,</span>
    props<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      msg<span class="token operator">:</span> String<span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
        count<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<h4 id="å‡†å¤‡æ•°æ®"><a href="#å‡†å¤‡æ•°æ®" class="headerlink" title="å‡†å¤‡æ•°æ®"></a>å‡†å¤‡æ•°æ®</h4><p>åœ¨å¼€å§‹ä¹‹å‰ï¼Œå’±ä»¬å…ˆå‡†å¤‡ä¸€ä¸‹ JSON æ•°æ®ã€‚ï¼ˆJSON æ ¼å¼æ— ç–‘æ˜¯æœ€ä½³çš„é€‰æ‹©ï¼Œè€Œæ­¤åæˆ‘ä»¬ä¹Ÿå¯ä»¥ç¨åŠ æ”¹é€ è€Œå¾ˆæ–¹ä¾¿åœ°å¯¹æ¥ä»»æ„åç«¯çš„ APIã€‚ï¼‰</p>
<blockquote>
<p>å®˜æ–¹æä¾›çš„å…¶å®æ˜¯ä¸€ä¸ª CSV æ–‡ä»¶ã€‚D3 ä¹Ÿæ”¯æŒè¯»å– CSV æ ¼å¼çš„æ•°æ®ï¼Œå½“ç„¶æˆ‘ä»¬è¿˜æ˜¯å¯ä»¥å…ˆå°†å…¶è½¬æ¢ä¸º JSON æ ¼å¼ï¼Œå› ä¸ºå®ƒæ›´é€šç”¨ä¸€äº›ã€‚<br>ä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œä¸‹è½½ä¸‹æ¥åï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ <a target="_blank" rel="noopener" href="https://csvjson.com/csv2json">CSV to JSON</a> ç­‰ä¸€äº›ç±»ä¼¼çš„ç½‘ç«™è¿›è¡Œè½¬æ¢ã€‚<br>æœ€åå¯ä»¥å¾—åˆ° <a target="_blank" rel="noopener" href="https://yunyoujun.github.io/vue-d3-demo/alphabet.json">alphabet.json</a>ã€‚</p>
</blockquote>
<p>æˆ‘ä»¬å¯ä»¥å°†å…¶ä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„é™æ€æ–‡ä»¶ï¼Œç”¨è¯·æ±‚çš„æ–¹å¼å»åŠ è½½å®ƒï¼Œè€Œéå°†å…¶æ‰“åŒ…åœ¨æ–‡ä»¶ä¸­ã€‚</p>
<p>æˆ‘ä»¬åªéœ€å°†è¯¥ JSON æ–‡ä»¶æ”¾ç½®äº <code>public/</code> æ–‡ä»¶å¤¹ä¸‹ï¼Œéšåå¯åŠ¨ Viteï¼ˆ<code>yarn dev</code>ï¼‰ã€‚</p>
<p>ä¾¿å¯ä»¥è®¿é—® <code>http://localhost:3000/alphabet.json</code> çœ‹åˆ° JSON æ–‡ä»¶ã€‚</p>
<p>å¤§å®¶å¯èƒ½å¯¹ <a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/AJAX">AJAX</a>(Asynchronous JavaScript and XML) æ—©å·²æœ‰æ‰€è€³é—»ã€‚</p>
<blockquote>
<p>AJAX åº”ç”¨å¯ä»¥ä»…å‘æœåŠ¡å™¨å‘é€å¹¶å–å›å¿…é¡»çš„æ•°æ®ï¼Œå¹¶åœ¨å®¢æˆ·ç«¯é‡‡ç”¨ JavaScript å¤„ç†æ¥è‡ªæœåŠ¡å™¨çš„å›åº”ã€‚å› ä¸ºåœ¨æœåŠ¡å™¨å’Œæµè§ˆå™¨ä¹‹é—´äº¤æ¢çš„æ•°æ®å¤§é‡å‡å°‘ï¼ŒæœåŠ¡å™¨å›åº”æ›´å¿«äº†ã€‚åŒæ—¶ï¼Œå¾ˆå¤šçš„å¤„ç†å·¥ä½œå¯ä»¥åœ¨å‘å‡ºè¯·æ±‚çš„å®¢æˆ·ç«¯æœºå™¨ä¸Šå®Œæˆï¼Œå› æ­¤ Web æœåŠ¡å™¨çš„è´Ÿè·ä¹Ÿå‡å°‘äº†ã€‚</p>
</blockquote>
<p>åœ¨å‘Šåˆ«äº† JQuery æ—¶ä»£ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <a target="_blank" rel="noopener" href="https://github.com/axios/axios">axios</a> è¿™ä¸€ç›®å‰æœ€ä¸ºæµè¡Œï¼ˆæ²¡æœ‰ä¹‹ä¸€ï¼‰çš„ HTTP è¯·æ±‚åº“æ¥è¯·æ±‚å’±ä»¬äº‹å…ˆå‡†å¤‡å¥½çš„ JSON æ•°æ®ã€‚</p>
<ul>
<li>å®‰è£… axios: <code>yarn add axios</code></li>
</ul>
<p>åœ¨ <code>src/components</code> æ–‡ä»¶å¤¹ä¸‹æ–°å»º <code>BarChart.vue</code> æ–‡ä»¶ã€‚</p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>å’±æ˜¯ç›´æ–¹å›¾ğŸ“Š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">"axios"</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">/**
     * åœ¨æŒ‚è½½åå³å¼€å§‹æ‰§è¡Œ
     */</span>
    <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"./alphabet.json"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<p>å¹¶åœ¨ <code>src/App.vue</code> ä¸­åŠ è½½è¯¥ç»„ä»¶ã€‚ï¼ˆç¤ºä¾‹çš„ <code>HelloWorld.vue</code> ç­‰å·²ç»å¯ä»¥åˆ æ‰äº†ã€‚ï¼‰</p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- App.vue --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Vue logo<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./assets/logo.png<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BarChart</span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> BarChart <span class="token keyword">from</span> <span class="token string">"./components/BarChart.vue"</span><span class="token punctuation">;</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token string">"App"</span><span class="token punctuation">,</span>
    components<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      BarChart<span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<p>F12 æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼Œæ˜¾ç„¶æˆ‘ä»¬å·²ç»æˆåŠŸåœ°æ‹¿åˆ°äº†è¿™ä¸€ JSON æ•°æ®ã€‚</p>
<p><img src="https://i.loli.net/2020/11/24/7ubjySWJqBLi8dE.png" alt="alphabet.json.png" loading="lazy"></p>
<p>åƒé‡Œä¹‹è¡Œï¼Œæˆ‘ä»¬å·²ç»è¿ˆå‡ºäº†ç¬¬ä¸€æ­¥ã€‚</p>
<h4 id="ç»˜åˆ¶ç›´æ–¹å›¾"><a href="#ç»˜åˆ¶ç›´æ–¹å›¾" class="headerlink" title="ç»˜åˆ¶ç›´æ–¹å›¾"></a>ç»˜åˆ¶ç›´æ–¹å›¾</h4><p>æˆ‘ä»¬è¿˜éœ€å…ˆå®šä¹‰ä¸€ä¸ª <code>bar-chart-container</code> çš„å®¹å™¨ï¼Œä»¥ä¾› D3 æ“ä½œã€‚</p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- BarChart.vue --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>å’±æ˜¯ç›´æ–¹å›¾ğŸ“Š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bar-chart-container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre>

<ul>
<li>å®‰è£… D3 ä¾èµ–ï¼š<code>yarn add d3</code></li>
</ul>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
        color<span class="token operator">:</span> <span class="token string">"steelblue"</span><span class="token punctuation">,</span>
        margin<span class="token operator">:</span> <span class="token punctuation">&#123;</span> top<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span> right<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> bottom<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span> left<span class="token operator">:</span> <span class="token number">40</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>

    <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
      <span class="token operator">...</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>

    methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token function">drawBarChart</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token operator">...</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<p>åœ¨ <code>drawBarChart</code> å‡½æ•°ä¸­åˆå§‹åŒ– SVG å…ƒç´ ï¼Œå¹¶æ”¾ç½®äºæˆ‘ä»¬å®šä¹‰å¥½çš„ <code>bar-chart-container</code> å®¹å™¨ä¸­ã€‚</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// åˆå§‹åŒ– SVG å…ƒç´ </span>
<span class="token keyword">const</span> svg <span class="token operator">=</span> d3
  <span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">"#bar-chart-container"</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"svg"</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">,</span> <span class="token string">"bar-chart"</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"viewBox"</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">0 0 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>width<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>height<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"width"</span><span class="token punctuation">,</span> width<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"height"</span><span class="token punctuation">,</span> height<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"g"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>é…ç½®æ¯”ä¾‹å°ºçš„ç¼©æ”¾èŒƒå›´åŠé—´è·ã€‚</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://observablehq.com/@d3/d3-scaleband">d3-scaleband</a></p>
</blockquote>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// x è½´çš„ç¼©æ”¾æ¯”ä¾‹å°º</span>
<span class="token keyword">const</span> x <span class="token operator">=</span> d3
  <span class="token punctuation">.</span><span class="token function">scaleBand</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">domain</span><span class="token punctuation">(</span>d3<span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token punctuation">[</span>margin<span class="token punctuation">.</span>left<span class="token punctuation">,</span> width <span class="token operator">-</span> margin<span class="token punctuation">.</span>right<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// y è½´çš„ç¼©æ”¾æ¯”ä¾‹å°º</span>
<span class="token keyword">const</span> y <span class="token operator">=</span> d3
  <span class="token punctuation">.</span><span class="token function">scaleLinear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">domain</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> d3<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">d</span><span class="token punctuation">)</span> <span class="token operator">=></span> d<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">nice</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token punctuation">[</span>height <span class="token operator">-</span> margin<span class="token punctuation">.</span>bottom<span class="token punctuation">,</span> margin<span class="token punctuation">.</span>top<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>å®šä¹‰ç»˜åˆ¶ X/Y åæ ‡è½´çš„å‡½æ•°ï¼š</p>
<ul>
<li><code>tickSizeOuter(0)</code>: ç§»é™¤ 0 å¤„åˆå§‹çš„æ ‡è®°</li>
<li><a target="_blank" rel="noopener" href="https://github.com/d3/d3-scale/blob/master/README.md#tickFormat">tickFormat</a>: è®°å·æ ¼å¼</li>
<li><a target="_blank" rel="noopener" href="https://github.com/d3/d3-axis#axisLeft">axisLeft</a>: ç»˜åˆ¶å·¦ä¾§åæ ‡è½´</li>
</ul>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// x åæ ‡è½´</span>
<span class="token keyword">const</span> <span class="token function-variable function">xAxis</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">g</span><span class="token punctuation">)</span> <span class="token operator">=></span>
  g<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"transform"</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate(0,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>height <span class="token operator">-</span> margin<span class="token punctuation">.</span>bottom<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>
    d3
      <span class="token punctuation">.</span><span class="token function">axisBottom</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">tickFormat</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token operator">=></span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">tickSizeOuter</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// y åæ ‡è½´</span>
<span class="token comment">// data.format: "%"</span>
<span class="token comment">// data.y: "â†‘ Frequency"</span>
<span class="token keyword">const</span> <span class="token function-variable function">yAxis</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">g</span><span class="token punctuation">)</span> <span class="token operator">=></span>
  g
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"transform"</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>margin<span class="token punctuation">.</span>left<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">,0)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>d3<span class="token punctuation">.</span><span class="token function">axisLeft</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ticks</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> data<span class="token punctuation">.</span>format<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// ç§»é™¤åŒºåŸŸé—´çš„ç«–çº¿</span>
    <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">g</span><span class="token punctuation">)</span> <span class="token operator">=></span> g<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">".domain"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">g</span><span class="token punctuation">)</span> <span class="token operator">=></span>
      g
        <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"text"</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"x"</span><span class="token punctuation">,</span> <span class="token operator">-</span>margin<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"y"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"fill"</span><span class="token punctuation">,</span> <span class="token string">"currentColor"</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"text-anchor"</span><span class="token punctuation">,</span> <span class="token string">"start"</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>æ ¹æ®æ•°æ®ç»˜åˆ¶ç›´æ–¹å›¾å¹¶æ·»åŠ åˆ° SVG ä¸­ï¼š</p>
<pre class="language-js" data-language="js"><code class="language-js">svg
  <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"g"</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"fill"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>color<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token string">"rect"</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">"rect"</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"x"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">d<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">x</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"y"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">d</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">y</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"height"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">d</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">y</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">y</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"width"</span><span class="token punctuation">,</span> x<span class="token punctuation">.</span><span class="token function">bandwidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>æ·»åŠ åæ ‡è½´åˆ° SVG ä¸­ï¼š</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// ç»˜åˆ¶åˆ° SVG</span>
svg<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"g"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>xAxis<span class="token punctuation">)</span><span class="token punctuation">;</span>
svg<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"g"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>yAxis<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>æˆ‘ä»¬è¿˜å¯ä»¥å¯¹æ­¤å‰çš„æ•°æ®ï¼ˆè¿™æ˜¯ä¸€ä¸ªè‹±æ–‡å­—æ¯ä½¿ç”¨é¢‘ç‡çš„ç»Ÿè®¡ï¼‰è¿›è¡Œç®€å•çš„æ ¼å¼åŒ–ï¼š</p>
<p>å°† <code>letter</code> ä¸ <code>frequency</code> åˆ†åˆ«æ˜ å°„åˆ° <code>name</code> ä¸ <code>value</code> å­—æ®µï¼Œå¹¶é™åºæ’åˆ—ã€‚</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/map">Array.prototype.map() | MDN</a><br><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/sort">Array.prototype.sort() | MDN</a></p>
</blockquote>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
    <span class="token operator">...</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token comment">/**
       * æ ¼å¼åŒ–æ•°æ®
       */</span>
      <span class="token function">formatData</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> data
          <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span> letter<span class="token punctuation">,</span> frequency <span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> letter<span class="token punctuation">,</span> value<span class="token operator">:</span> frequency <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
          <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=></span> d3<span class="token punctuation">.</span><span class="token function">descending</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>value<span class="token punctuation">,</span> b<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token function">drawBarChart</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token operator">...</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<p>ä¸‡äº‹å…·å¤‡ï¼Œåªæ¬ ä¸œé£ã€‚</p>
<p>æˆ‘ä»¬åªéœ€åœ¨ <code>mounted</code> ä¸­æ‰§è¡Œæˆ‘ä»¬å®šä¹‰å¥½çš„å„ä¸ªå‡½æ•°å³å¯çœ‹åˆ°æˆ‘ä»¬æƒ³è¦çš„ç›´æ–¹å›¾æ•ˆæœã€‚</p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">/**
     * åœ¨æŒ‚è½½åå³å¼€å§‹æ‰§è¡Œ
     */</span>
    <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"./alphabet.json"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">const</span> barChartData <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">formatData</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
          format<span class="token operator">:</span> <span class="token string">"%"</span><span class="token punctuation">,</span>
          y<span class="token operator">:</span> <span class="token string">"â†‘ Frequency"</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">drawBarChart</span><span class="token punctuation">(</span>barChartData<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<p><img src="https://i.loli.net/2020/11/24/KMaOEJX62khFVqQ.png" alt="ç›´æ–¹å›¾.png" loading="lazy"></p>
<p>å¦‚æœä½ éœ€è¦çš„è¯ï¼Œå¯ä»¥å›å»æ£€æŸ¥ä¸€ä¸‹æœ¬æ¬¡æ—…è¡Œçš„<a href="#%E7%BA%AA%E5%BF%B5%E5%93%81">çºªå¿µå“</a>ã€‚</p>
<p>ä¹Ÿè®©æˆ‘ä»¬æ¥å›é¡¾ä¸€ä¸‹æˆ‘ä»¬å»äº†å“ªé‡Œå§ï¼Ÿ</p>
<p><a target="_blank" rel="noopener" href="https://github.com/YunYouJun/vue-d3-demo/tree/v0.0.1">v0.0.1 ç¬¬ä¸€æ¬¡çš„æ—…é€”</a></p>
<ul>
<li>æ­å»ºäº†ä¸€ä¸ªç®€å•çš„ Vite é¡¹ç›®ç»“æ„</li>
<li>ä½¿ç”¨ Vue@3 æ„å»ºäº†ä¸€ä¸ªç®€å•çš„é¡µé¢</li>
<li>ä½¿ç”¨ D3@6 ç»˜åˆ¶äº†ä¸€ä¸ªç®€å•çš„æŸ±çŠ¶å›¾</li>
<li>ä½¿ç”¨ axios è·å– JSON æ•°æ®</li>
</ul>
<h2 id="ç»ˆç‚¹"><a href="#ç»ˆç‚¹" class="headerlink" title="ç»ˆç‚¹"></a>ç»ˆç‚¹</h2><p>ä¸–é—´ä¸‡ç‰©ç»ˆæœ‰å°½æ—¶ï¼Œå¤©ä¸‹äº¦æ²¡æœ‰ä¸æ•£çš„å®´å¸­ã€‚</p>
<p>ä¸€ä¸ªç®€å•çš„ä¸çŸ¥æ‰€äº‘çš„å°æ—…é€”ï¼ˆæ•™ç¨‹ï¼‰ï¼Œåˆ°æ­¤å°±æ”¶å·¥äº†ã€‚<del>åç»­å¯èƒ½ï¼ˆä¹Ÿå¯èƒ½ä¸ï¼‰ä¼šé™„å¸¦ä¸Šç®€å•çš„ï¼ˆNode.js/Go/Pythonï¼‰åå° API æ­å»ºã€‚</del></p>
<blockquote>
<p>è¿˜è®°å¾—ã€ŒçªŸåš“åš“ã€çš„æ•…äº‹å—ï¼Ÿ<br>é‚£è¾†ç™½è‰²çš„ç«è½¦å¤´æ˜¯æœ‰ç›®çš„åœ°çš„â€¦â€¦<br>è€Œä½ ä¹ŸåŒæ ·å­˜åœ¨ä¸€ä¸ªç»ˆç‚¹ç«™å§<br>â€”â€” æç™½ã€Œ<a target="_blank" rel="noopener" href="https://movie.douban.com/subject/26935251/">æ˜¥å®µè‹¦çŸ­ï¼Œå°‘å¥³å‰è¿›å§</a>ã€</p>
</blockquote>
<p><img src="https://upyun.yunyoujun.cn/images/dawn-is-near.jpg" alt="LMå°†è¿‘äº†" loading="lazy"></p>
<p>æˆ‘ä»¬ä¸ºäº†æŠµè¾¾æŸä¸ªç»ˆç‚¹è€Œå¼€å§‹è‡ªå·±çš„æ—…ç¨‹ï¼Œä¹Ÿå¸Œæœ›å®ƒèƒ½æˆä¸ºä½ å˜æˆæƒ³è¦æˆä¸ºçš„äººçš„é€”é—´ä¸€å—ä¸çŸ¥åçš„å«è„šçŸ³ã€‚</p>
<blockquote>
<p>é»æ˜å°†è¿‘äº†ï¼Œã€Œå°‘å¹´/å°‘å¥³ã€å‰è¿›å§ï¼<br>æ„Ÿè°¢ <a target="_blank" rel="noopener" href="https://blog.mle.moe/">LLM</a> åŒå­¦çš„æ ¡ç¨¿ã€‚</p>
</blockquote>
<hr>
<h2 id="æ–°çš„æ—…ç¨‹"><a href="#æ–°çš„æ—…ç¨‹" class="headerlink" title="æ–°çš„æ—…ç¨‹"></a>æ–°çš„æ—…ç¨‹</h2><p>åœ¨æ­¤å‰ï¼Œæˆ‘ä»¬ç®€å•çš„å­¦ä¹ äº† Vue + Vite + D3 çš„åŸºæœ¬æ“ä½œï¼Œå¹¶æ­å»ºäº†ä¸€ä¸ªåŸºç¡€çš„é¡µé¢ã€‚</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬æ¥è¯•å›¾ä¸ºå…¶æ·»åŠ ä¸€ä¸ªè¡¨å•ï¼Œå¹¶æ·»åŠ æ›´å¤šè¾…åŠ©å¼€å‘çš„åŠŸèƒ½ã€‚ï¼ˆè®©å®ƒæ›´æœ‰é¡¹ç›®çº§åˆ«çš„æ„Ÿè§‰ã€‚ï¼‰</p>
<p>æ¯”å¦‚ï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://sass-lang.com/">Sass</a>: CSS æœ€ä¸ºæµè¡Œçš„é¢„å¤„ç†å™¨ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©å®ƒæ¥åˆ©ç”¨åµŒå¥—ã€å˜é‡ç­‰æ–¹å¼æ¥æ›´åŠ ä¾¿æ·åœ°ä¹¦å†™ CSSã€‚</li>
<li><a target="_blank" rel="noopener" href="https://element-plus.org/">element-plus</a>: Vue2 æ—¶æœŸæœ€æµè¡Œçš„å‰ç«¯ç»„ä»¶åº“ <a target="_blank" rel="noopener" href="https://element.eleme.io/">element-ui</a> çš„ Vue3 ç‰ˆæœ¬ï¼Œ<a target="_blank" rel="noopener" href="https://vuetifyjs.com/zh-Hans/">Vuetify</a> è™½ç„¶ä¹Ÿä¸é”™ï¼Œä½†æ˜¯ç›®å‰è¿˜æ²¡æœ‰å®ç° Vue3 çš„å‡çº§å…¼å®¹ï¼Œå› ä¸ºæˆ‘ä»¬çš„é¦–é€‰æ–¹æ¡ˆæ˜¯ element-plusã€‚</li>
<li><a target="_blank" rel="noopener" href="https://next.vuex.vuejs.org/">Vuex</a>: Vue çš„å…¨å±€çŠ¶æ€ç®¡ç†å·¥å…·ï¼Œç­‰æˆ‘ä»¬ç”¨åˆ°çš„æ—¶å€™æƒ³å¿…ä½ ä¼šæ˜ç™½çš„ã€‚</li>
<li><a target="_blank" rel="noopener" href="https://next.router.vuejs.org/zh/introduction.html">vue-router</a>: Vue çš„è·¯ç”±ç®¡ç†å™¨ï¼Œå› ä¸ºæœ¬è´¨ä¸Šä½œä¸ºå•é¡µé¢åº”ç”¨æ—¶ï¼Œ Vue çš„è·¯ç”±æ˜¯ç”¨ hash æ¨¡æ‹Ÿå‡ºæ¥çš„ã€‚</li>
<li><a target="_blank" rel="noopener" href="https://www.typescriptlang.org/">TypeScript</a>: JavaScript çš„è¶…é›†ï¼Œç›¸æ¯”å…¶å¤šäº†ä¼˜é›…çš„ç±»å‹ï¼Œæ›´åˆ©äºå¼€å‘å¤§å‹é¡¹ç›®ã€åä½œã€æ’æŸ¥ BUGã€‚</li>
</ul>
<p>ä¸€ä¸‹å­ä¼¼ä¹åˆå¤šäº†è®¸å¤šæ–°çš„å†…å®¹ï¼Œä½†æ˜¯ä¸ç”¨æ‹…å¿ƒï¼Œæˆ‘ä»¬æ˜¯è‡ªé¡¶å‘ä¸‹å¼çš„ï¼Œæˆ‘ä»¬å…ˆä½¿ç”¨è¿™äº›å¯ä»¥æé«˜å¼€å‘æ•ˆç‡çš„å·¥å…·ï¼Œå¯¹å…¶äº§ç”Ÿå…´è¶£ï¼Œç„¶åå†å»é€ä¸€è¿›ä¸€æ­¥äº†è§£å®ƒä»¬ã€‚</p>
<p>æˆ‘è§‰å¾—æå‰äº†è§£åˆ°æŸäº›ä¸œè¥¿å¯ä»¥åšåˆ°ä»€ä¹ˆæ ·çš„æ•ˆæœä¸”æ›´æœ‰æ•ˆç‡ï¼Œæ˜¯æœ‰å¿…è¦çš„ã€‚è€Œéä¸€ç›´ä½¿ç”¨åˆ€è€•ç«ç§çš„æ–¹å¼ï¼Œå¦‚å…ˆäººèˆ¬é‡æ–°æ¢ç´¢ä¸€éã€‚<br>æƒ³å¿…è¿™ä¹Ÿæ˜¯æ—…è¡Œæ—¶ï¼Œã€Œåœ°å›¾ã€çš„ä½œç”¨å§ï¼</p>
<p>å¯¹äº†ï¼Œå› ä¸ºæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ Vue3 ç‰ˆæœ¬ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨çš„ Vue ç›¸å…³å…¨å®¶æ¡¶éƒ½å¾—æ˜¯ <code>next</code> ç‰ˆæœ¬çš„ã€‚</p>
<p>é‚£è®©æˆ‘ä»¬å¼€å§‹è¿™æ¬¡æ–°çš„å¾ç¨‹å§ï¼</p>
<p>åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå‡†å¤‡ä¸€ç‚¹è¡Œæï¼Œä»¥å¤‡ä¸æ—¶ä¹‹éœ€ã€‚</p>
<h3 id="æ–°çš„è¡Œææ¸…å•"><a href="#æ–°çš„è¡Œææ¸…å•" class="headerlink" title="æ–°çš„è¡Œææ¸…å•"></a>æ–°çš„è¡Œææ¸…å•</h3><h4 id="vue-router"><a href="#vue-router" class="headerlink" title="vue-router"></a>vue-router</h4><blockquote>
<p><a target="_blank" rel="noopener" href="https://next.router.vuejs.org/guide/">Getting Started | Vue Router</a></p>
</blockquote>
<p>å¼€å‘ä¸€ä¸ªåº”ç”¨çº§åˆ«çš„ç½‘ç«™ï¼Œå¿…ç„¶å­˜åœ¨å¤šä¸ªé¡µé¢ã€‚<br>é‚£ä¹ˆæˆ‘ä»¬åº”è¯¥ä½¿ç”¨æ›´ä¸ºä¼˜é›…çš„æ–¹å¼æ¥ç»„ç»‡é¡µé¢çš„ urlã€‚</p>
<p>vue-router æœ¬è´¨æ˜¯ä¸€ä¸ªç®¡ç†ç”Ÿæˆè·¯ç”±çš„å·¥å…·ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨å»å¯¼å…¥ Vue ç»„ä»¶å¹¶ä¸ºå…¶åˆ†é…è·¯ç”±ã€‚<br>è¿™å…¶å®è›®éº»çƒ¦çš„ï¼Œæˆ‘ä»¬æ¯æ–°å»ºä¸€ä¸ªé¡µé¢ï¼Œå°±è¦å»ä¹¦å†™å¯¹åº”çš„è·¯ç”±ã€‚</p>
<p><img src="https://upyun.yunyoujun.cn/images/in-this-river.jpg" alt="è¿™æ²³é‡Œå—ï¼Ÿ" loading="lazy"></p>
<p>ç†æƒ³çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åœ¨ <code>pages</code> æ–‡ä»¶å¤¹ä¸‹æ–°å»º Vue ç»„ä»¶ï¼Œå®ƒèƒ½è‡ªåŠ¨æ ¹æ®ç»„ä»¶åï¼Œç”Ÿæˆå¯¹åº”çš„è·¯ç”±ï¼Œè¿™æ‰æ˜¯æœ€ä¼˜é›…çš„ã€‚</p>
<p>ä¹Ÿå°±æ˜¯ç±»ä¼¼ Nuxt pages è‡ªåŠ¨ç”Ÿæˆçš„åŠ¨æ€è·¯ç”± <a target="_blank" rel="noopener" href="https://zh.nuxtjs.org/docs/2.x/features/file-system-routing">File System Routing</a>ã€‚</p>
<blockquote>
<p>Nuxt.js automatically generates the vue-router configuration based on your file tree of Vue files inside the pages directory. When you create a .vue file in your pages directory you will have basic routing working with no extra configuration needed.</p>
</blockquote>
<p>å¯¹äº Vue æ¥è¯´ï¼ŒVite ä¹Ÿå­˜åœ¨ä¸€ä¸ªç±»ä¼¼çš„æ’ä»¶ <a target="_blank" rel="noopener" href="https://github.com/hannoeru/vite-plugin-pages/">vite-plugin-pages</a>ã€‚</p>
<p>å¯¹ç…§ README é…ç½®ä¸€éå°±æ˜¯äº†ã€‚</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># vite-plugin-pages ä»ç„¶éœ€è¦ä½¿ç”¨ vue-router æ¥åˆ›å»ºè·¯ç”±</span>
<span class="token function">yarn</span> <span class="token function">add</span> vue-router@next
<span class="token function">yarn</span> <span class="token function">add</span> -D vite-plugin-pages</code></pre>

<p>é…ç½® Vite æ’ä»¶ã€‚</p>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// vite.config.ts</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">"@vitejs/plugin-vue"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Pages <span class="token keyword">from</span> <span class="token string">"vite-plugin-pages"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">Vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Pages</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre>

<p><code>vite-plugin-pages</code> åªåšäº†æ ¹æ®æ–‡ä»¶è·¯å¾„ç”Ÿæˆå¯¹åº”è·¯ç”±æ•°æ®çš„äº‹æƒ…ï¼Œæˆ‘ä»¬ä»ç„¶éœ€è¦ vue-router æ¥ç”Ÿæˆ hash è·¯ç”±ã€‚</p>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// src/router/index.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> createRouter<span class="token punctuation">,</span> createWebHashHistory <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"vue-router"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> routes <span class="token keyword">from</span> <span class="token string">"virtual:generated-pages"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  history<span class="token operator">:</span> <span class="token function">createWebHashHistory</span><span class="token punctuation">(</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">BASE_URL</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  routes<span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router<span class="token punctuation">;</span></code></pre>

<p>è®°å¾—åœ¨ <code>main.ts</code> ä¸­å¼•å…¥å®ƒã€‚</p>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// src/main.ts</span>
<span class="token operator">...</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">"./router"</span><span class="token punctuation">;</span>
<span class="token operator">...</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">"#app"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

<h4 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h4><blockquote>
<p><a target="_blank" rel="noopener" href="https://next.vuex.vuejs.org/guide/">Getting Started | Vuex</a></p>
</blockquote>
<p>å†æ•´ä¸€ä¸ªå…¨å±€çŠ¶æ€ç®¡ç†ã€‚ä¹Ÿè®¸æˆ‘ä»¬ä¼šé‡åˆ°éœ€è¦å­˜å‚¨ç®¡ç†å…¨å±€çš„çŠ¶æ€ï¼Œ<del>ä¹Ÿå¯èƒ½ä¸éœ€è¦</del>ã€‚</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">yarn</span> <span class="token function">add</span> vuex@next</code></pre>

<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// src/store/index.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> createStore<span class="token punctuation">,</span> createLogger <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"vuex"</span><span class="token punctuation">;</span>
<span class="token comment">// import form from "./modules/form";</span>
<span class="token keyword">const</span> debug <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  state<span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  mutations<span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  actions<span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token keyword">module</span>s<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// form,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  strict<span class="token operator">:</span> debug<span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> debug <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token function">createLogger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>åœ¨æ­¤å†…éƒ¨ï¼Œæˆ‘ä»¬åˆ™å¯ä»¥ä½¿ç”¨ <code>src/store/modules/xxx.ts</code> çš„æ–¹å¼ç®¡ç†æ¨¡å—æ•°æ®ã€‚ï¼ˆä¹‹åç”¨åˆ°å†è¯´å§ï¼ï¼‰</p>
<h4 id="sass"><a href="#sass" class="headerlink" title="sass"></a>sass</h4><p>å¼•å…¥ sass çš„æµç¨‹å…¶å®å·²ç»è¢« vite ç®€åŒ–äº†ï¼Œæˆ‘ä»¬åªéœ€è¦ <code>import xxx.scss</code> å³å¯ã€‚</p>
<p><code>scss</code> æ˜¯ <code>sassy css</code>ï¼Œä½œä¸º sass æ—¶å…¼å®¹äº† css çš„å†™æ³•ã€‚</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">yarn</span> <span class="token function">add</span> sass</code></pre>

<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// src/main.ts</span>
<span class="token operator">...</span>
<span class="token keyword">import</span> <span class="token string">"./index.scss"</span>
<span class="token operator">...</span></code></pre>

<h4 id="element-plus"><a href="#element-plus" class="headerlink" title="element-plus"></a>element-plus</h4><blockquote>
<p><a target="_blank" rel="noopener" href="https://element-plus.org/#/zh-CN/component/quickstart">å¿«é€Ÿä¸Šæ‰‹ | Element Plus</a></p>
</blockquote>
<p>UI ç»„ä»¶åº“é¢„ç½®äº†è®¸å¤šå¸¸ç”¨çš„ç»„ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿä½¿ç”¨å®ƒä»¬æ¥æ„å»ºè‡ªå·±æƒ³è¦çš„åŠŸèƒ½åŸå‹ã€‚ï¼ˆå½“ç„¶æˆ‘ä»¬ä»ç„¶å¯ä»¥è‡ªå®šä¹‰å®ƒä»¬ã€‚ï¼‰</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">yarn</span> <span class="token function">add</span> element-plus</code></pre>

<p>å†åŠ ä¸Šæˆ‘ä»¬ä¹‹å‰å¼•å…¥çš„ä¸œè¥¿ï¼Œæœ€å <code>src/main.ts</code> çœ‹èµ·æ¥åº”è¯¥æ˜¯è¿™ä¸ªæ ·å­ã€‚</p>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// src/main.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> createApp <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">"./App.vue"</span><span class="token punctuation">;</span>
<span class="token comment">// import scss</span>
<span class="token keyword">import</span> <span class="token string">"./index.scss"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">"./router"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">"./store"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ElementPlus <span class="token keyword">from</span> <span class="token string">"element-plus"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">"element-plus/lib/theme-chalk/index.css"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>ElementPlus<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">"#app"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>å¥½äº†ï¼ŒåŸºç¡€çš„è¡Œæä»¬å·²ç»å‡†å¤‡å®Œæ¯•äº†ï¼Œè®©æˆ‘ä»¬å‡ºå‘å§ï¼</p>
<h3 id="è¡¨å•"><a href="#è¡¨å•" class="headerlink" title="è¡¨å•"></a>è¡¨å•</h3><p>è®©æˆ‘ä»¬è¯•ç€å€ŸåŠ©æ­¤å‰å‡†å¤‡å¥½çš„å·¥å…·åŒ…ï¼Œæ„å»ºä¸€ä¸ªè¡¨å•åŠŸèƒ½å§ï¼</p>
<hr>
<p>To Be Continued.</p>
</div><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="æ‰“èµ" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-hand-coin-line"></use></svg></span><div id="reward-comment">æˆ‘å¾ˆå¯çˆ±ï¼Œè¯·ç»™æˆ‘é’±</div><div id="qr" style="display:none;"><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/alipay-qrcode.jpg"><img loading="lazy" src="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/alipay-qrcode.jpg" alt="æ”¯ä»˜å®" title="æ”¯ä»˜å®"></a><div><span style="color:#00A3EE"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-alipay-line"></use></svg></span></div></div><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/qqpay-qrcode.png"><img loading="lazy" src="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/qqpay-qrcode.png" alt="QQ æ”¯ä»˜" title="QQ æ”¯ä»˜"></a><div><span style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></span></div></div><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/wechatpay-qrcode.jpg"><img loading="lazy" src="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/wechatpay-qrcode.jpg" alt="å¾®ä¿¡æ”¯ä»˜" title="å¾®ä¿¡æ”¯ä»˜"></a><div><span style="color:#2DC100"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-pay-line"></use></svg></span></div></div></div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>æœ¬æ–‡ä½œè€…ï¼š</strong>äº‘æ¸¸å›</li><li class="post-copyright-link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="https://www.yunyoujun.cn/posts/vue-d3-demo/" title="ä» Vite ä¸ Vue å¼€å§‹çš„ D3 æ•°æ®å¯è§†åŒ–ä¹‹æ—…">https://www.yunyoujun.cn/posts/vue-d3-demo/</a></li><li class="post-copyright-license"><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é»˜è®¤é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> è®¸å¯åè®®ã€‚</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/posts/2020-summary/" rel="prev" title="åšçŒªå‘¢ï¼Œæœ€é‡è¦çš„æ˜¯å¼€å¿ƒ"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">åšçŒªå‘¢ï¼Œæœ€é‡è¦çš„æ˜¯å¼€å¿ƒ</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/posts/find-npy-social-account/" rel="next" title="å¦‚ä½•æ‰¾åˆ°ä½ æœ‹å‹çš„ç¤¾äº¤è´¦å·"><span class="post-nav-text">å¦‚ä½•æ‰¾åˆ°ä½ æœ‹å‹çš„ç¤¾äº¤è´¦å·</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>å¦‚æœæ‚¨æœ‰ä»»ä½•å…³äºåšå®¢å†…å®¹çš„ç›¸å…³è®¨è®ºï¼Œæ¬¢è¿å‰å¾€ <a href="https://github.com/YunYouJun/yunyoujun.github.io/discussions" target="_blank">GitHub Discussions</a> ä¸æˆ‘äº¤æµã€‚</span><br></div><div id="waline"></div><script>Yun.utils.getScript("https://cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js", () => {
  const walineConfig = {"enable":true,"serverURL":"https://waline.yunyoujun.cn","comment":true,"visitor":true,"avatarCDN":"https://cdn.v2ex.com/gravatar/","placeholder":"å¡«å†™é‚®ç®±ï¼Œå¯ä»¥æ”¶åˆ°å›å¤é€šçŸ¥å“¦ï½","requiredFields":["nick"],"el":"#waline","lang":"zh-CN"}
  walineConfig.path = "/posts/vue-d3-demo/"
  new Waline(walineConfig)
}, window.Waline);</script></div></main><footer class="sidebar-translate" id="footer"><div class="beian"><a rel="noopener" href="https://beian.miit.gov.cn/" target="_blank">è‹ICPå¤‡17038157å·</a></div><div class="copyright"><span>&copy; 2016 â€“ 2021 </span><a class="with-love" id="animate" target="_blank" rel="noopener" href="https://sponsors.yunyoujun.cn" title="äº‘æ¸¸å›çš„èµåŠ©è€…ä»¬"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></a><span class="author"> äº‘æ¸¸å›</span></div><div class="powered"><span>ç”± <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> é©±åŠ¨ v5.4.0</span><span class="footer-separator">|</span><span>ä¸»é¢˜ - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.6.2</span></div><div class="footer-support"><span>æœ¬ç½‘ç«™ç”±</span><a class="footer-support-logo" href="https://www.upyun.com" target="blank" title="åˆæ‹äº‘"><img height="30" src="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/logo/upyun-logo.png" alt="åˆæ‹äº‘"></a><span>æä¾› CDN åŠ é€Ÿ</span></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="æœç´¢"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search-line"></use></svg></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script defer src="https://cdn.jsdelivr.net/npm/algoliasearch@4/dist/algoliasearch-lite.umd.js"></script><script defer src="https://cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js"></script><script defer src="/js/search/algolia-search.js"></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-close-line"></use></svg></span></div><div class="search-input-container"></div><div class="algolia-results"><div id="algolia-stats"></div><div id="algolia-hits"></div><div class="algolia-pagination" id="algolia-pagination"></div></div></div></div><!-- hexo injector body_end start --><script src="/js/tag-common/index.js"></script><!-- hexo injector body_end end --></body></html>